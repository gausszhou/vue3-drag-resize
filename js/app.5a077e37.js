(function(t){function e(e){for(var n,a,h=e[0],r=e[1],l=e[2],d=0,u=[];d<h.length;d++)a=h[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&u.push(s[a][0]),s[a]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);c&&c(e);while(u.length)u.shift()();return o.push.apply(o,l||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],n=!0,h=1;h<i.length;h++){var r=i[h];0!==s[r]&&(n=!1)}n&&(o.splice(e--,1),t=a(a.s=i[0]))}return t}var n={},s={app:0},o=[];function a(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=n,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var h=window["webpackJsonp"]=window["webpackJsonp"]||[],r=h.push.bind(h);h.push=e,h=h.slice();for(var l=0;l<h.length;l++)e(h[l]);var c=r;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"105e":function(t,e,i){var n={"./404.vue":"8cdb","./basic/basic-basic-component.vue":"d023","./basic/basic-with-drag-handle.vue":"b48b","./basic/basic-with-inner-iframe.vue":"b08b"};function s(t){var e=o(t);return i(e)}function o(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}s.keys=function(){return Object.keys(n)},s.resolve=o,t.exports=s,s.id="105e"},"19d3":function(t,e,i){},"2a68":function(t,e,i){var n={"./views/404":"8cdb","./views/404.vue":"8cdb","./views/basic/basic-basic-component":"d023","./views/basic/basic-basic-component.vue":"d023","./views/basic/basic-with-drag-handle":"b48b","./views/basic/basic-with-drag-handle.vue":"b48b","./views/basic/basic-with-inner-iframe":"b08b","./views/basic/basic-with-inner-iframe.vue":"b08b"};function s(t){return Promise.resolve().then((function(){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}var s=n[t];return i(s)}))}s.keys=function(){return Object.keys(n)},s.id="2a68",t.exports=s},"352e":function(t,e,i){"use strict";i("f40a")},"56d7":function(t,e,i){"use strict";i.r(e);var n=i("7a23");const s={id:"app"},o={id:"view"},a={class:"drag-bar",ref:"dragBar"},h=["innerHTML"];function r(t,e,i,r,l,c){const d=Object(n["resolveComponent"])("el-menu-item"),u=Object(n["resolveComponent"])("el-sub-menu"),m=Object(n["resolveComponent"])("el-menu"),p=Object(n["resolveComponent"])("router-view"),g=Object(n["resolveComponent"])("GithubBadge");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",s,[Object(n["createElementVNode"])("div",{id:"menu",style:Object(n["normalizeStyle"])(c.style)},[Object(n["createVNode"])(m,{"default-active":l.active},{default:Object(n["withCtx"])(()=>[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(l.menuData,(t,e)=>(Object(n["openBlock"])(),Object(n["createBlock"])(u,{key:e,index:e+1+""},{title:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("i",{class:Object(n["normalizeClass"])(t.icon)},null,2),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(t.label),1)]),default:Object(n["withCtx"])(()=>[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(t.children,(t,i)=>(Object(n["openBlock"])(),Object(n["createBlock"])(d,{key:i,index:e+1+"-"+(i+1),onClick:e=>c.goto(t)},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(t.label),1)]),_:2},1032,["index","onClick"]))),128))]),_:2},1032,["index"]))),128))]),_:1},8,["default-active"])],4),Object(n["createElementVNode"])("div",o,[Object(n["createElementVNode"])("div",a,null,512),Object(n["createVNode"])(p),Object(n["createElementVNode"])("div",{class:"markdown-render",id:"write",innerHTML:l.markdownHTML},null,8,h)]),Object(n["createVNode"])(g,{url:"https://github.com/gausszhou/vue3-drag-resize"})])}var l=i("d4cd"),c=i.n(l),d=i("1487"),u=i.n(d);i("2c43");const m={class:"github"},p=["href"];function g(t,e,i,s,o,a){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",m,[Object(n["createElementVNode"])("a",{href:i.url},"Github",8,p)])}var b={props:{url:{type:String,default:"https://github.com/gausszhou/"}}},f=(i("352e"),i("d959")),v=i.n(f);const w=v()(b,[["render",g],["__scopeId","data-v-166978aa"]]);var O=w,y=[{label:"基本",icon:"el-icon-menu",children:[{route:"basic-basic-component",label:"基本组件"},{route:"basic-with-drag-handle",label:"限制允许拖动的范围 "},{route:"basic-with-inner-iframe",label:"内嵌 <iframe/> (bug)"}]}],j=i("bc3a"),x=i.n(j);const N=x.a.create({timeout:5e3});N.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),N.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)}));var k=N;let E="./markdown/";var M={getMarkdown:t=>k.get(E+t+".md")},S={name:"app",components:{GithubBadge:O},data(){return{menuData:y,active:"1-1",isDrag:!1,widthX:275,markdownRender:{},markdownHTML:""}},computed:{style(){return{width:this.widthX+"px"}}},watch:{$route(t){this.getMarkdown(t.path)}},created(){let t=localStorage.getItem("width");t&&(this.widthX=t),this.processMenuData()},mounted(){this.handleDragBarEvent(),this.createMarkdownRender()},methods:{goto(t){this.$route.name!=t.route&&this.$router.push({name:t.route})},processMenuData(){this.menuData.forEach((t,e)=>{t.children.forEach((i,n)=>{t.children[n].index=e+1+"-"+(n+1)})})},handleDragBarEvent(){this.$refs.dragBar.onmousedown=()=>{this.isDrag=!0},document.onmouseup=()=>{this.isDrag=!1},document.onmousemove=t=>{this.isDrag&&(this.widthX=t.x,localStorage.setItem("width",this.widthX))}},createMarkdownRender(){this.markdownRender=new c.a({html:!0,linkify:!0,typographer:!0,highlight:function(t,e){if(e&&u.a.getLanguage(e))try{let i=u.a.highlight(e,t,!0).value;return i}catch(i){console.log(i)}}})},getMarkdown(t){let e=t.slice(1);M.getMarkdown(e).then(t=>{this.markdownHTML=this.markdownRender.render(t.data)})}}};i("b273");const z=v()(S,[["render",r],["__scopeId","data-v-3247117e"]]);var B=z,V=i("6605");const T=i("105e");let C=[];T.keys().forEach(t=>{const e=t.substr(t.indexOf("/"),t.lastIndexOf(".")-1),n=t.substr(t.indexOf(".")+1,t.lastIndexOf(".")-1),s=n.substr(n.lastIndexOf("/")+1);C.push({path:e,name:s,component:()=>i("2a68")("./views"+n)})});const L=[{path:"/",redirect:{name:"basic-basic-component"}},...C,{path:"/",component:()=>Promise.resolve().then(i.bind(null,"8cdb"))}],H=Object(V["a"])({history:Object(V["b"])("/vue3-drag-resize/"),routes:L});var D=H,P=i("c3a1"),W=i("f6f2");i("7437"),i("8e1f");const R=["onMousedown","onTouchstart"],_={class:"vue-drr-slot"};function A(t,e,i,s,o,a){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{style:Object(n["normalizeStyle"])(a.style),class:Object(n["normalizeClass"])([{[i.classNameActive]:t.enabled,[i.classNameDragging]:t.dragging,[i.classNameResizing]:t.resizing,[i.classNameDraggable]:i.draggable,[i.classNameResizable]:i.resizable},i.className]),onMousedown:e[0]||(e[0]=(...t)=>a.elementMouseDown&&a.elementMouseDown(...t)),onTouchstart:e[1]||(e[1]=(...t)=>a.elementTouchDown&&a.elementTouchDown(...t))},[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(a.actualHandles,e=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:e,class:Object(n["normalizeClass"])([i.classNameHandle,i.classNameHandle+"-"+e]),onMousedown:Object(n["withModifiers"])(t=>a.handleDown(e,t),["stop","prevent"]),onTouchstart:Object(n["withModifiers"])(t=>a.handleTouchDown(e,t),["stop","prevent"])},[Object(n["renderSlot"])(t.$slots,e,{},void 0,!0)],42,R))),128)),Object(n["createElementVNode"])("div",_,[Object(n["renderSlot"])(t.$slots,"default",{},void 0,!0)])],38)}i("caad"),i("d9e2");const $=new WeakMap;function I(t){let e=$.get(t);return e||$.set(t,e=Object.create(null)),e}function F(t,e,...i){t&&t.$emit&&t.$emit(e,...i);const n=I(t)[e];return n&&n.map(e=>e.apply(t,i)),t}function X(t){return"function"===typeof t||"[object Function]"===Object.prototype.toString.call(t)}function U(t,e,i,n=1){const s=Math.round(e/n/t[0])*t[0],o=Math.round(i/n/t[1])*t[1];return[s,o]}function Y(t,e,i){return t-e-i}function J(t,e,i){return t-e-i}function G(t,e,i){return null!==e&&t<e?e:null!==i&&i<t?i:t}function q(t,e,i){let n=t;const s=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find(t=>X(n[t]));if(!X(n[s]))return!1;do{if(n[s](e))return!0;if(n===i)return!1;n=n.parentNode}while(n);return!1}function K(t){const e=window.getComputedStyle(t);return[parseFloat(e.getPropertyValue("width"),10),parseFloat(e.getPropertyValue("height"),10)]}function Q(t,e,i){t&&(t.attachEvent?t.attachEvent("on"+e,i):t.addEventListener?t.addEventListener(e,i,!0):t["on"+e]=i)}function Z(t,e,i){t&&(t.detachEvent?t.detachEvent("on"+e,i):t.removeEventListener?t.removeEventListener(e,i,!0):t["on"+e]=null)}const tt={mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"},touch:{start:"touchstart",move:"touchmove",stop:"touchend"}},et={userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none"},it={userSelect:"auto",MozUserSelect:"auto",WebkitUserSelect:"auto",MsUserSelect:"auto"};let nt=tt.mouse;var st={replace:!0,name:"vue-drag-resize",props:{className:{type:String,default:"vue-drr-box"},classNameDraggable:{type:String,default:"draggable"},classNameResizable:{type:String,default:"resizable"},classNameDragging:{type:String,default:"dragging"},classNameResizing:{type:String,default:"resizing"},classNameActive:{type:String,default:"active"},classNameHandle:{type:String,default:"handle"},disableUserSelect:{type:Boolean,default:!0},enableNativeDrag:{type:Boolean,default:!1},preventDeactivation:{type:Boolean,default:!1},active:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},w:{type:[Number,String],default:200,validator:t=>"number"===typeof t?t>0:"auto"===t},h:{type:[Number,String],default:200,validator:t=>"number"===typeof t?t>0:"auto"===t},minWidth:{type:Number,default:0,validator:t=>t>=0},minHeight:{type:Number,default:0,validator:t=>t>=0},maxWidth:{type:Number,default:null,validator:t=>t>=0},maxHeight:{type:Number,default:null,validator:t=>t>=0},x:{type:Number,default:0},y:{type:Number,default:0},z:{type:[String,Number],default:"auto",validator:t=>"string"===typeof t?"auto"===t:t>=0},handles:{type:Array,default:()=>["tl","tm","tr","mr","br","bm","bl","ml"],validator:t=>{const e=new Set(["tl","tm","tr","mr","br","bm","bl","ml"]);return new Set(t.filter(t=>e.has(t))).size===t.length}},dragHandle:{type:String,default:null},dragCancel:{type:String,default:null},axis:{type:String,default:"both",validator:t=>["x","y","both"].includes(t)},grid:{type:Array,default:()=>[1,1]},parent:{type:[Boolean,String],default:!1},onDragStart:{type:Function,default:()=>!0},onDrag:{type:Function,default:()=>!0},onResizeStart:{type:Function,default:()=>!0},onResize:{type:Function,default:()=>!0},isConflictCheck:{type:Boolean,default:!1},snap:{type:Boolean,default:!1},snapTolerance:{type:Number,default:5,validator:function(t){return"number"===typeof t}},scaleRatio:{type:Number,default:1,validator:t=>"number"===typeof t},handleInfo:{type:Object,default:()=>({size:8,offset:-4,switch:!0})}},data:function(){return{left:this.x,top:this.y,right:null,bottom:null,width:null,height:null,widthTouched:!1,heightTouched:!1,aspectFactor:null,parentWidth:null,parentHeight:null,minW:this.minWidth,minH:this.minHeight,maxW:this.maxWidth,maxH:this.maxHeight,handle:null,enabled:this.active,resizing:!1,dragging:!1,zIndex:this.z}},created:function(){this.maxWidth&&this.minWidth>this.maxWidth&&console.warn("[Vdr warn]: Invalid prop: minWidth cannot be greater than maxWidth"),this.maxWidth&&this.minHeight>this.maxHeight&&console.warn("[Vdr warn]: Invalid prop: minHeight cannot be greater than maxHeight"),this.resetBoundsAndMouseState()},mounted:function(){this.enableNativeDrag||(this.$el.ondragstart=()=>!1);const[t,e]=this.getParentSize();this.parentWidth=t,this.parentHeight=e;const[i,n]=K(this.$el);this.aspectFactor=("auto"!==this.w?this.w:i)/("auto"!==this.h?this.h:n),this.width="auto"!==this.w?this.w:i,this.height="auto"!==this.h?this.h:n,this.right=this.parentWidth-this.width-this.left,this.bottom=this.parentHeight-this.height-this.top,this.settingAttribute(),Q(document.documentElement,"mousedown",this.deselect),Q(document.documentElement,"touchend touchcancel",this.deselect),Q(window,"resize",this.checkParentSize)},beforeUnmount:function(){Z(document.documentElement,"mousedown",this.deselect),Z(document.documentElement,"touchstart",this.handleUp),Z(document.documentElement,"mousemove",this.move),Z(document.documentElement,"touchmove",this.move),Z(document.documentElement,"mouseup",this.handleUp),Z(document.documentElement,"touchend touchcancel",this.deselect),Z(window,"resize",this.checkParentSize)},methods:{resetBoundsAndMouseState(){this.mouseClickPosition={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.bounds={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null}},checkParentSize(){if(this.parent){const[t,e]=this.getParentSize();this.right=t-this.width-this.left,this.bottom=e-this.height-this.top,this.parentWidth=t,this.parentHeight=e}},getParentSize(){if(!0===this.parent){const t=window.getComputedStyle(this.$el.parentNode,null);return[Math.round(parseFloat(t.getPropertyValue("width"),10)),Math.round(parseFloat(t.getPropertyValue("height"),10))]}if("string"===typeof this.parent){const t=document.querySelector(this.parent);if(!(t instanceof HTMLElement))throw new Error(`The selector ${this.parent} does not match any element`);return[t.offsetWidth,t.offsetHeight]}return[null,null]},elementTouchDown(t){nt=tt.touch,this.elementDown(t)},elementMouseDown(t){nt=tt.mouse,this.elementDown(t)},elementDown(t){if(t instanceof MouseEvent&&1!==t.which)return;const e=t.target||t.srcElement;if(this.$el.contains(e)){if(!1===this.onDragStart(t))return;if(this.dragHandle&&!q(e,this.dragHandle,this.$el)||this.dragCancel&&q(e,this.dragCancel,this.$el))return void(this.dragging=!1);this.enabled||(this.enabled=!0,F(this,"activated"),F(this,"update:active",!0)),this.draggable&&(this.dragging=!0),this.mouseClickPosition.mouseX=t.touches?t.touches[0].pageX:t.pageX,this.mouseClickPosition.mouseY=t.touches?t.touches[0].pageY:t.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.mouseClickPosition.w=this.width,this.mouseClickPosition.h=this.height,this.parent&&(this.bounds=this.calcDragLimits()),Q(document.documentElement,nt.move,this.move),Q(document.documentElement,nt.stop,this.handleUp)}},calcDragLimits(){return{minLeft:this.left%this.grid[0],maxLeft:Math.floor((this.parentWidth-this.width-this.left)/this.grid[0])*this.grid[0]+this.left,minRight:this.right%this.grid[0],maxRight:Math.floor((this.parentWidth-this.width-this.right)/this.grid[0])*this.grid[0]+this.right,minTop:this.top%this.grid[1],maxTop:Math.floor((this.parentHeight-this.height-this.top)/this.grid[1])*this.grid[1]+this.top,minBottom:this.bottom%this.grid[1],maxBottom:Math.floor((this.parentHeight-this.height-this.bottom)/this.grid[1])*this.grid[1]+this.bottom}},deselect(t){const e=t.target||t.srcElement,i=new RegExp(this.className+"-([trmbl]{2})","");this.$el.contains(e)||i.test(e.className)||(this.enabled&&(this.enabled=!1,F(this,"deactivated"),F(this,"update:active",!1)),Z(document.documentElement,nt.move,this.move)),this.resetBoundsAndMouseState()},handleTouchDown(t,e){nt=tt.touch,this.handleDown(t,e)},handleDown(t,e){e instanceof MouseEvent&&1!==e.which||!1!==this.onResizeStart(t,e)&&(e.stopPropagation&&e.stopPropagation(),this.handle=t,this.resizing=!0,this.mouseClickPosition.mouseX=e.touches?e.touches[0].pageX:e.pageX,this.mouseClickPosition.mouseY=e.touches?e.touches[0].pageY:e.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.mouseClickPosition.w=this.width,this.mouseClickPosition.h=this.height,this.bounds=this.calcResizeLimits(),Q(document.documentElement,nt.move,this.move),Q(document.documentElement,nt.stop,this.handleUp))},calcResizeLimits(){let t=this.minW,e=this.minH,i=this.maxW,n=this.maxH;this.aspectFactor;const[s,o]=this.grid,a=this.width,h=this.height,r=this.left,l=this.top,c=this.right,d=this.bottom;i-=i%s,n-=n%o;const u={minLeft:null,maxLeft:null,minTop:null,maxTop:null,minRight:null,maxRight:null,minBottom:null,maxBottom:null};return this.parent?(u.minLeft=r%s,u.maxLeft=r+Math.floor((a-t)/s)*s,u.minTop=l%o,u.maxTop=l+Math.floor((h-e)/o)*o,u.minRight=c%s,u.maxRight=c+Math.floor((a-t)/s)*s,u.minBottom=d%o,u.maxBottom=d+Math.floor((h-e)/o)*o,i&&(u.minLeft=Math.max(u.minLeft,this.parentWidth-c-i),u.minRight=Math.max(u.minRight,this.parentWidth-r-i)),n&&(u.minTop=Math.max(u.minTop,this.parentHeight-d-n),u.minBottom=Math.max(u.minBottom,this.parentHeight-l-n))):(u.minLeft=null,u.maxLeft=r+Math.floor((a-t)/s)*s,u.minTop=null,u.maxTop=l+Math.floor((h-e)/o)*o,u.minRight=null,u.maxRight=c+Math.floor((a-t)/s)*s,u.minBottom=null,u.maxBottom=d+Math.floor((h-e)/o)*o,i&&(u.minLeft=-(c+i),u.minRight=-(r+i)),n&&(u.minTop=-(d+n),u.minBottom=-(l+n))),u},move(t){this.resizing?this.handleResize(t):this.dragging&&this.handleDrag(t)},async handleDrag(t){const e=this.axis,i=this.grid,n=this.bounds,s=this.mouseClickPosition,o=e&&"y"!==e?s.mouseX-(t.touches?t.touches[0].pageX:t.pageX):0,a=e&&"x"!==e?s.mouseY-(t.touches?t.touches[0].pageY:t.pageY):0,[h,r]=U(i,o,a,this.scaleRatio),l=G(s.left-h,n.minLeft,n.maxLeft),c=G(s.top-r,n.minTop,n.maxTop);if(!1===this.onDrag(l,c))return;const d=G(s.right+h,n.minRight,n.maxRight),u=G(s.bottom+r,n.minBottom,n.maxBottom);this.left=l,this.top=c,this.right=d,this.bottom=u,await this.snapCheck(),F(this,"dragging",this.left,this.top)},moveHorizontally(t){const[e,i]=U(this.grid,t,this.top,this.scale),n=G(e,this.bounds.minLeft,this.bounds.maxLeft);this.left=n,this.right=this.parentWidth-this.width-n},moveVertically(t){const[e,i]=U(this.grid,this.left,t,this.scale),n=G(i,this.bounds.minTop,this.bounds.maxTop);this.top=n,this.bottom=this.parentHeight-this.height-n},handleResize(t){let e=this.left,i=this.top,n=this.right,s=this.bottom;const o=this.mouseClickPosition,a=(this.aspectFactor,o.mouseX-(t.touches?t.touches[0].pageX:t.pageX)),h=o.mouseY-(t.touches?t.touches[0].pageY:t.pageY);!this.widthTouched&&a&&(this.widthTouched=!0),!this.heightTouched&&h&&(this.heightTouched=!0);const[r,l]=U(this.grid,a,h,this.scaleRatio);this.handle.includes("b")?s=G(o.bottom+l,this.bounds.minBottom,this.bounds.maxBottom):this.handle.includes("t")&&(i=G(o.top-l,this.bounds.minTop,this.bounds.maxTop)),this.handle.includes("r")?n=G(o.right+r,this.bounds.minRight,this.bounds.maxRight):this.handle.includes("l")&&(e=G(o.left-r,this.bounds.minLeft,this.bounds.maxLeft));const c=Y(this.parentWidth,e,n),d=J(this.parentHeight,i,s);!1!==this.onResize(this.handle,e,i,c,d)&&(this.left=e,this.top=i,this.right=n,this.bottom=s,this.width=c,this.height=d,F(this,"resizing",this.left,this.top,this.width,this.height))},changeWidth(t){const[e,i]=U(this.grid,t,0,this.scale),n=G(this.parentWidth-e-this.left,this.bounds.minRight,this.bounds.maxRight);let s=this.bottom;const o=Y(this.parentWidth,this.left,n),a=J(this.parentHeight,this.top,s);this.right=n,this.bottom=s,this.width=o,this.height=a},changeHeight(t){const[e,i]=U(this.grid,0,t,this.scale),n=G(this.parentHeight-i-this.top,this.bounds.minBottom,this.bounds.maxBottom);let s=this.right;const o=Y(this.parentWidth,this.left,s),a=J(this.parentHeight,this.top,n);this.right=s,this.bottom=n,this.width=o,this.height=a},async handleUp(t){this.handle=null;const e=new Array(3).fill({display:!1,position:"",origin:"",lineLength:""}),i={vLine:[],hLine:[]};for(const n in i)i[n]=JSON.parse(JSON.stringify(e));this.resizing&&(this.resizing=!1,await this.conflictCheck(),F(this,"refLineParams",i),F(this,"resizestop",this.left,this.top,this.width,this.height)),this.dragging&&(this.dragging=!1,await this.conflictCheck(),F(this,"refLineParams",i),F(this,"dragstop",this.left,this.top)),this.resetBoundsAndMouseState(),Z(document.documentElement,nt.move,this.move)},settingAttribute(){this.$el.setAttribute("data-is-check",""+this.isConflictCheck),this.$el.setAttribute("data-is-snap",""+this.snap)},conflictCheck(){const t=this.top,e=this.left,i=this.width,n=this.height;if(this.isConflictCheck){const s=this.$el.parentNode.childNodes;for(const o of s)if(void 0!==o.className&&!o.className.includes(this.classNameActive)&&null!==o.getAttribute("data-is-check")&&"false"!==o.getAttribute("data-is-check")){const s=o.offsetWidth,a=o.offsetHeight,[h,r]=this.formatTransformVal(o.style.transform),l=t>=r&&e>=h&&r+a>t&&h+s>e||t<=r&&e<h&&t+n>r&&e+i>h,c=e<=h&&t>=r&&e+i>h&&t<r+a||t<r&&e>h&&t+n>r&&e<h+s,d=t<=r&&e>=h&&t+n>r&&e<h+s||t>=r&&e<=h&&t<r+a&&e>h+s,u=t<=r&&e>=h&&t+n>r&&e<h+s||t>=r&&e<=h&&t<r+a&&e>h+s,m=e>=h&&t>=r&&e<h+s&&t<r+a||t>r&&e<=h&&e+i>h&&t<r+a,p=t<=r&&e>=h&&t+n>r&&e<h+s||t>=r&&e<=h&&t<r+a&&e+i>h;(l||c||d||u||m||p)&&(this.top=this.mouseClickPosition.top,this.left=this.mouseClickPosition.left,this.right=this.mouseClickPosition.right,this.bottom=this.mouseClickPosition.bottom,this.width=this.mouseClickPosition.w,this.height=this.mouseClickPosition.h)}}},async snapCheck(){let t=this.width,e=this.height;if(this.snap){let i=this.left,n=this.left+t,s=this.top,o=this.top+e;const a=new Array(3).fill({display:!1,position:"",origin:"",lineLength:""}),h={vLine:[],hLine:[]};for(const t in h)h[t]=JSON.parse(JSON.stringify(a));const r={value:{x:[[],[],[]],y:[[],[],[]]},display:[],position:[]},l=this.$el.parentNode.childNodes,{groupWidth:c,groupHeight:d,groupLeft:u,groupTop:m,bln:p}=await this.getActiveAll(l);p||(t=c,e=d,i=u,n=u+c,s=m,o=m+d);for(const g of l)if(void 0!==g.className&&!g.className.includes(this.classNameActive)&&null!==g.getAttribute("data-is-snap")&&"false"!==g.getAttribute("data-is-snap")){const a=g.offsetWidth,l=g.offsetHeight,[c,d]=this.formatTransformVal(g.style.transform),u=c+a,m=d+l,b=Math.abs(s+e/2-(d+l/2))<=this.snapTolerance,f=Math.abs(i+t/2-(c+a/2))<=this.snapTolerance,v=Math.abs(d-o)<=this.snapTolerance,w=Math.abs(m-o)<=this.snapTolerance,O=Math.abs(d-s)<=this.snapTolerance,y=Math.abs(m-s)<=this.snapTolerance,j=Math.abs(c-n)<=this.snapTolerance,x=Math.abs(u-n)<=this.snapTolerance,N=Math.abs(c-i)<=this.snapTolerance,k=Math.abs(u-i)<=this.snapTolerance;r.display=[v,w,O,y,b,b,j,x,N,k,f,f],r.position=[d,m,d,m,d+l/2,d+l/2,c,u,c,u,c+a/2,c+a/2],v&&(p&&(this.top=d-e,this.bottom=this.parentHeight-this.top-e),r.value.y[0].push(c,u,i,n)),O&&(p&&(this.top=d,this.bottom=this.parentHeight-this.top-e),r.value.y[0].push(c,u,i,n)),w&&(p&&(this.top=m-e,this.bottom=this.parentHeight-this.top-e),r.value.y[1].push(c,u,i,n)),y&&(p&&(this.top=m,this.bottom=this.parentHeight-this.top-e),r.value.y[1].push(c,u,i,n)),j&&(p&&(this.left=c-t,this.right=this.parentWidth-this.left-t),r.value.x[0].push(d,m,s,o)),N&&(p&&(this.left=c,this.right=this.parentWidth-this.left-t),r.value.x[0].push(d,m,s,o)),x&&(p&&(this.left=u-t,this.right=this.parentWidth-this.left-t),r.value.x[1].push(d,m,s,o)),k&&(p&&(this.left=u,this.right=this.parentWidth-this.left-t),r.value.x[1].push(d,m,s,o)),b&&(p&&(this.top=d+l/2-e/2,this.bottom=this.parentHeight-this.top-e),r.value.y[2].push(c,u,i,n)),f&&(p&&(this.left=c+a/2-t/2,this.right=this.parentWidth-this.left-t),r.value.x[2].push(d,m,s,o));let E=this.bounds;this.left=G(this.left,E.minLeft,E.maxLeft),this.top=G(this.top,E.minTop,E.maxTop),this.right=G(this.right,E.minRight,E.maxRight),this.bottom=G(this.bottom,E.minBottom,E.maxBottom);const M=[0,1,0,1,2,2,0,1,0,1,2,2];for(let t=0;t<=M.length;t++){const e=t<6?"y":"x",i=t<6?"hLine":"vLine";if(r.display[t]){const{origin:n,length:s}=this.calcLineValues(r.value[e][M[t]]);h[i][M[t]].display=r.display[t],h[i][M[t]].position=r.position[t]+"px",h[i][M[t]].origin=n,h[i][M[t]].lineLength=s}}}F(this,"refLineParams",h)}},calcLineValues(t){const e=Math.max(...t)-Math.min(...t)+"px",i=Math.min(...t)+"px";return{length:e,origin:i}},async getActiveAll(t){const e=[],i=[],n=[];let s=0,o=0,a=0,h=0;for(const c of t)void 0!==c.className&&c.className.includes(this.classNameActive)&&e.push(c);const r=e.length;if(r>1){for(const t of e){const e=t.offsetLeft,s=e+t.offsetWidth,o=t.offsetTop,a=o+t.offsetHeight;i.push(o,a),n.push(e,s)}s=Math.max(...i)-Math.min(...i),o=Math.max(...n)-Math.min(...n),a=Math.min(...i),h=Math.min(...n)}const l=1===r;return{groupWidth:s,groupHeight:o,groupLeft:a,groupTop:h,bln:l}},formatTransformVal(t){let[e,i,n]=t.match(/[\d|\.]+/g);return void 0===i&&(i=0),[+e,+i,n]}},computed:{style(){return{transform:`translate(${this.left}px, ${this.top}px)`,width:this.computedWidth,height:this.computedHeight,zIndex:this.zIndex,...this.dragging&&this.disableUserSelect?et:it}},actualHandles(){return this.resizable?this.handles:[]},computedWidth(){return this.width+"px"},computedHeight(){return this.height+"px"},resizingOnX(){return Boolean(this.handle)&&(this.handle.includes("l")||this.handle.includes("r"))},resizingOnY(){return Boolean(this.handle)&&(this.handle.includes("t")||this.handle.includes("b"))}},watch:{active(t){this.enabled=t,F(this,t?"activated":"deactivated")},z(t){(t>=0||"auto"===t)&&(this.zIndex=t)},x(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcDragLimits()),this.moveHorizontally(t))},y(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcDragLimits()),this.moveVertically(t))},w(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcResizeLimits()),this.changeWidth(t))},h(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcResizeLimits()),this.changeHeight(t))},minWidth(t){t>0&&t<=this.width&&(this.minW=t)},minHeight(t){t>0&&t<=this.height&&(this.minH=t)},maxWidth(t){this.maxW=t},maxHeight(t){this.maxH=t}},emits:["update:active","dragging","resizing","refLineParams","resizestop","dragstop","activated","deactivated"]};i("fadd");const ot=v()(st,[["render",A],["__scopeId","data-v-04fe2cde"]]);var at=ot;const ht=Object(n["createApp"])(B);ht.component("VueDragReSize",at);for(const[rt,lt]of Object.entries(W))ht.component(rt,lt);ht.use(D),ht.use(P["a"]),ht.mount("#app")},7934:function(t,e,i){},"8cdb":function(t,e,i){"use strict";i.r(e);var n=i("7a23");const s=Object(n["createElementVNode"])("h1",null,"404 Not Found",-1),o=[s];function a(t,e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,o)}var h=i("d959"),r=i.n(h);const l={},c=r()(l,[["render",a]]);e["default"]=c},"8e1f":function(t,e,i){},9083:function(t,e,i){"use strict";i("7934")},9612:function(t,e,i){"use strict";i("a366")},a366:function(t,e,i){},b08b:function(t,e,i){"use strict";i.r(e);var n=i("7a23");const s=t=>(Object(n["pushScopeId"])("data-v-52d3e2b0"),t=t(),Object(n["popScopeId"])(),t),o={class:"view-box"},a=s(()=>Object(n["createElementVNode"])("div",{id:"toolbar"},"限制允许拖动的范围",-1)),h={class:"container"},r=s(()=>Object(n["createElementVNode"])("div",{class:"window"},[Object(n["createElementVNode"])("div",{class:"window-header"},[Object(n["createElementVNode"])("div",{class:"window-header-button-group"},[Object(n["createElementVNode"])("span",null,"文件"),Object(n["createElementVNode"])("span",null,"编辑"),Object(n["createElementVNode"])("span",null,"选择")]),Object(n["createElementVNode"])("div",{class:"window-header-drag drag-handle"},"Drag Only Here"),Object(n["createElementVNode"])("div",{class:"window-header-button-group"},[Object(n["createElementVNode"])("span",null,"➖"),Object(n["createElementVNode"])("span",null,"⬜"),Object(n["createElementVNode"])("span",null,"❌")])]),Object(n["createElementVNode"])("div",{class:"window-body"},[Object(n["createElementVNode"])("iframe",{src:"//gausszhou.top",frameborder:"0"})])],-1));function l(t,e){const i=Object(n["resolveComponent"])("VueDragReSize");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",o,[a,Object(n["createElementVNode"])("div",h,[Object(n["createVNode"])(i,{"drag-handle":".drag-handle",x:100,y:100,w:320,h:210,"min-width":320,"min-height":210},{default:Object(n["withCtx"])(()=>[r]),_:1},8,["drag-handle"])])])}i("9083");var c=i("d959"),d=i.n(c);const u={},m=d()(u,[["render",l],["__scopeId","data-v-52d3e2b0"]]);e["default"]=m},b273:function(t,e,i){"use strict";i("e1e7")},b48b:function(t,e,i){"use strict";i.r(e);var n=i("7a23");const s=t=>(Object(n["pushScopeId"])("data-v-dc248136"),t=t(),Object(n["popScopeId"])(),t),o={class:"view-box"},a=s(()=>Object(n["createElementVNode"])("div",{id:"toolbar"},"限制允许拖动的范围",-1)),h={class:"container"},r=s(()=>Object(n["createElementVNode"])("div",{class:"window"},[Object(n["createElementVNode"])("div",{class:"window-header"},[Object(n["createElementVNode"])("div",{class:"window-header-button-group"},[Object(n["createElementVNode"])("span",null,"文件"),Object(n["createElementVNode"])("span",null,"编辑"),Object(n["createElementVNode"])("span",null,"选择")]),Object(n["createElementVNode"])("div",{class:"window-header-drag drag-handle"},"Drag Only Here"),Object(n["createElementVNode"])("div",{class:"window-header-button-group"},[Object(n["createElementVNode"])("span",null,"➖"),Object(n["createElementVNode"])("span",null,"⬜"),Object(n["createElementVNode"])("span",null,"❌")])]),Object(n["createElementVNode"])("div",{class:"window-body"},[Object(n["createElementVNode"])("video",{src:"https://static.gausszhou.top/data/video/h264/Dyson_Ball_264.mp4",controls:""})])],-1));function l(t,e){const i=Object(n["resolveComponent"])("VueDragReSize");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",o,[a,Object(n["createElementVNode"])("div",h,[Object(n["createVNode"])(i,{"drag-handle":".drag-handle",x:100,y:100,w:320,h:210,"min-width":320,"min-height":210},{default:Object(n["withCtx"])(()=>[r]),_:1},8,["drag-handle"])])])}i("9612");var c=i("d959"),d=i.n(c);const u={},m=d()(u,[["render",l],["__scopeId","data-v-dc248136"]]);e["default"]=m},d023:function(t,e,i){"use strict";i.r(e);var n=i("7a23");const s={class:"view-box"},o=Object(n["createElementVNode"])("div",{id:"toolbar"},"基本组件",-1),a={class:"container"},h=Object(n["createElementVNode"])("p",null,"你可以拖着我，按照自己的意愿调整大小。1",-1),r=Object(n["createElementVNode"])("p",null,"你可以拖着我，按照自己的意愿调整大小。2",-1);function l(t,e){const i=Object(n["resolveComponent"])("VueDragReSize");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",s,[o,Object(n["createElementVNode"])("div",a,[Object(n["createVNode"])(i,{x:0,y:0,w:200,h:200},{default:Object(n["withCtx"])(()=>[h]),_:1}),Object(n["createVNode"])(i,{x:200,y:200,w:200,h:200},{default:Object(n["withCtx"])(()=>[r]),_:1})])])}var c=i("d959"),d=i.n(c);const u={},m=d()(u,[["render",l]]);e["default"]=m},e1e7:function(t,e,i){},f40a:function(t,e,i){},fadd:function(t,e,i){"use strict";i("19d3")}});